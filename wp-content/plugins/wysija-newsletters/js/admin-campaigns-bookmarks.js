jQuery(function(s){function a(a,e){wysijaAJAX.task="get_social_bookmarks",wysijaAJAX.wysijaData={size:a,theme:e},jQuery.ajax({type:"POST",url:wysijaAJAX.ajaxurl,data:wysijaAJAX,success:function(a){if(void 0!=a.result){var e,o=JSON.parse(a.result),t="",i='class="selected"';s.each(Object.keys(o.icons).sort(),function(a,r){t+='<li class="clearfix"><a href="javascript:;" '+i+' rel="'+r+'">',e=o.icons[r],0==a&&(i="",s("#bookmarks-iconset").val(r),a++),s.each(["facebook","twitter","google","linkedin"],function(s,a){t+='<img src="'+e[a]+'" alt="'+a+'" />'})}),t+="</a></li>",s("ul.icons").html(t)}},dataType:"json"})}var e=window.parent.document.getElementById("bodyBgColorInput").value;(void 0===e||6!==e.length)&&(e="FFFFFF"),s("ul.icons").css("backgroundColor","#"+e),s(document).on("click",".bookmarks .sizes a",function(){return s(".bookmarks .sizes a").removeClass("selected"),s(this).addClass("selected"),a(s(this).attr("rel"),s("#bookmarks-theme").val()),s("#bookmarks-size").val(s(this).attr("rel")),s("#bookmarks-iconset").val(""),!1}),s(document).on("click",".bookmarks .icons a",function(){return s(".bookmarks .icons a").removeClass("selected"),s(this).addClass("selected"),s("#bookmarks-iconset").val(s(this).attr("rel")),!1}),s("#bookmarks-submit").click(function(){return wysijaAJAX.task="generate_social_bookmarks",wysijaAJAX.wysijaData=s("#bookmarks-form").serializeArray(),jQuery.ajax({type:"POST",url:wysijaAJAX.ajaxurl,data:wysijaAJAX,success:function(s){void 0!==s.result&&""!==s.result?window.parent.WysijaPopup.success(s.result):window.parent.WysijaPopup.cancel()}}),!1}),s(function(){a(s("#bookmarks-size").val(),s("#bookmarks-theme").val())})});