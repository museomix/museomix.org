jQuery(function(e){function o(){var o=[];e(".categories:visible").each(function(){""!==e(this).val()&&o.push(e(this).val())}),o=e.unique(o),e("#category_ids").val(o.join(",")),window.parent.WysijaPopup.setDimensions()}function t(o){e("#category-"+o).remove()}function a(){"post"===e("select#cpt").val()?e(".category-selection").show():(e(".category-selection").hide(),e("#category_selection").html(""),e(".categories").val("")),o()}e(document).on("change",".categories:visible",function(){o()}),e("#add-category").click(function(){if(!(e("#category_selection li").length+1>=e(".categories:hidden option").length)){var t=e("#category_list").html();return e("#category_selection").append('<li id="category-'+(parseInt(e("#category_selection li").length)+1)+'" class="clearfix"><span>'+t+'</span><a class="icon-minus remove-category" rel="'+(parseInt(e("#category_selection li").length)+1)+'" href="javascript:;"><span></span></a></li>'),o(),!1}}),e(document).on("click",".remove-category",function(){return t(e(this).attr("rel")),o(),!1}),e("#autopost-submit").click(function(){return wysijaAJAX.task="generate_auto_post",wysijaAJAX.wysijaData=e("#autopost-form").serializeArray(),jQuery.ajax({type:"POST",url:wysijaAJAX.ajaxurl,data:wysijaAJAX,success:function(e){void 0!==e.result&&""!==e.result?window.parent.WysijaPopup.success(e.result):window.parent.WysijaPopup.cancel()}}),!1}),e("select#cpt").change(function(){a()}),e("input.color").modcoder_excolor({hue_bar:1,border_color:"#969696",anim_speed:"fast",round_corners:!1,shadow_size:2,shadow_color:"#f0f0f0",background_color:"#ececec",backlight:!1,label_color:"#333333",effect:"fade",show_input:!1,z_index:2e4,callback_on_open:function(){e("html, body").animate({scrollTop:e("#modcoder_colorpicker_wrapper:visible").offset().top},200)}}),e(function(){o(),a()})});